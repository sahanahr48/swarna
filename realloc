#include <stdio.h>
#include <stdlib.h>

typedef struct {
    int *data;
    size_t size, capacity;
} DynArray;

void init(DynArray *a) {
    a->size = 0;
    a->capacity = 2;
    a->data = malloc(a->capacity *sizeof(int));
}

void push(DynArray *a, int val) {
    if (a->size == a->capacity) {
        a->capacity *= 2;
        a->data = realloc(a->data, a->capacity * sizeof(int));
    }
    a->data[a->size++] = val;
}

int main() {
    DynArray a;
    init(&a);

    for (int i = 0; i < 10; i++)
        push(&a, i);

    for (size_t i = 0; i < a.size; i++)
        printf("%d ", a.data[i]);
        
        free(a.data);
        return 0;
    }
    
